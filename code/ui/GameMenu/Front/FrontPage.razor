@using System;
@using System.Linq;
@using Sandbox;
@using Sandbox.MenuSystem;
@using Sandbox.UI;
@namespace DeadLines.GameMenu
@attribute [StyleSheet]

<root style="flex-direction: column;">

    <div class="game-title">
        @Game.Menu.Package.Title
    </div>

    <div class="controls">

        @if (Game.InGame)
        {
            <a class="button" href="/active">Current Game</a>
            <a class="button" onclick=@LeaveGame>Leave Game</a>
            <span style="height: 20px;"></span>
        }
        else
        {
            <a class="button" href="/create">Create Game</a>
        }

        <a class="button" href="/servers">Find a Game</a>
        <a class="button" href="/settings">Settings</a>

        <span style="height: 20px;"></span>

        <a class="button" @onclick=@Game.Menu.Close>Quit</a>

        <span style="height: 20px;"></span>

        <a class="button" @onclick=@CopyDiscord>https://discord.gg/wukpCQvF</a>
        <a class="button" @onclick=@CopyGithub>https://github.com/youarereadingthis/deadlines/</a>

    </div>

</root>

@code
{
    void LoadSavedGame()
    {
        this.Navigate("/load");
    }

    void LeaveGame()
    {
        Game.Menu.LeaveServer("Leaving");
    }

    void CopyDiscord()
    {
        Clipboard.SetText("https://discord.gg/wukpCQvF");
    }

    void CopyGithub()
    {
        Clipboard.SetText("https://github.com/youarereadingthis/deadlines/");
    }
}
